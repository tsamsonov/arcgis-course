<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Упражнение 8 Соединение табличных данных | Основы геоинформатики: практикум в ArcGIS</title>
<meta name="author" content="Тимофей Самсонов">
<meta name="description" content="Скачать данные и файл отчета  8.1 Введение Цель задания — научиться использовать данные из внешних таблиц для построения карт. Параметр Значение Теоретическая подготовка Соединение таблиц в...">
<meta name="generator" content="bookdown 0.30 with bs4_book()">
<meta property="og:title" content="Упражнение 8 Соединение табличных данных | Основы геоинформатики: практикум в ArcGIS">
<meta property="og:type" content="book">
<meta property="og:description" content="Скачать данные и файл отчета  8.1 Введение Цель задания — научиться использовать данные из внешних таблиц для построения карт. Параметр Значение Теоретическая подготовка Соединение таблиц в...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Упражнение 8 Соединение табличных данных | Основы геоинформатики: практикум в ArcGIS">
<meta name="twitter:description" content="Скачать данные и файл отчета  8.1 Введение Цель задания — научиться использовать данные из внешних таблиц для построения карт. Параметр Значение Теоретическая подготовка Соединение таблиц в...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.4.1/transition.js"></script><script src="libs/bs3compat-0.4.1/tabs.js"></script><script src="libs/bs3compat-0.4.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<link rel="stylesheet" href="default">
<link rel="stylesheet" href="custom.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Основы геоинформатики: практикум в ArcGIS</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Введение</a></li>
<li class="book-part">Визуализация данных</li>
<li><a class="" href="map-design-quaternary.html"><span class="header-section-number">1</span> Карта четвертичных отложений</a></li>
<li><a class="" href="map-design-general.html"><span class="header-section-number">2</span> Общегеографическая карта</a></li>
<li><a class="" href="map-design-climates.html"><span class="header-section-number">3</span> Климатическая карта</a></li>
<li><a class="" href="map-design-economic.html"><span class="header-section-number">4</span> Социально-экономическая карта</a></li>
<li class="book-part">Базовые технологии ГИС</li>
<li><a class="" href="map-ref-general.html"><span class="header-section-number">5</span> Привязка и векторизация (туристская карта)</a></li>
<li><a class="" href="map-ref-hydrogeologic.html"><span class="header-section-number">6</span> Привязка и векторизация (гидрогеологическая карта)</a></li>
<li><a class="" href="map-ref-economic.html"><span class="header-section-number">7</span> Привязка и векторизация (административная карта)</a></li>
<li><a class="active" href="stat-map-economic.html"><span class="header-section-number">8</span> Соединение табличных данных</a></li>
<li><a class="" href="geocoding.html"><span class="header-section-number">9</span> Адресное геокодирование</a></li>
<li class="book-part">Векторный анализ</li>
<li><a class="" href="overlay.html"><span class="header-section-number">10</span> Пространственные взаимосвязи</a></li>
<li><a class="" href="land-cover-hydro.html"><span class="header-section-number">11</span> Пространственные соотношения</a></li>
<li><a class="" href="network-analysis.html"><span class="header-section-number">12</span> Транспортные сети</a></li>
<li><a class="" href="network-hydro.html"><span class="header-section-number">13</span> Гидрографические сети</a></li>
<li class="book-part">Растровый анализ</li>
<li><a class="" href="weighted-overlay.html"><span class="header-section-number">14</span> Оптимизация местоположения</a></li>
<li><a class="" href="dem.html"><span class="header-section-number">15</span> Цифровое моделирование рельефа</a></li>
<li class="book-part">Пространственное моделирование</li>
<li><a class="" href="density-analysis.html"><span class="header-section-number">16</span> Оценка плотности распределения</a></li>
<li><a class="" href="interpolation.html"><span class="header-section-number">17</span> Пространственная интерполяция</a></li>
<li><a class="" href="threed-modelling.html"><span class="header-section-number">18</span> Трехмерное моделирование</a></li>
<li class="book-part">Описание функций</li>
<li><a class="" href="manual-catalog.html"><span class="header-section-number">A</span> Работа с окном каталога</a></li>
<li><a class="" href="manual-toolbox.html"><span class="header-section-number">B</span> Геообработка</a></li>
<li><a class="" href="manual-gdb.html"><span class="header-section-number">C</span> База геоданных</a></li>
<li><a class="" href="manual-toc.html"><span class="header-section-number">D</span> Работа с таблицей слоев</a></li>
<li><a class="" href="manual-toolbar.html"><span class="header-section-number">E</span> Панели инструментов</a></li>
<li><a class="" href="manual-navigation.html"><span class="header-section-number">F</span> Навигация по карте</a></li>
<li><a class="" href="manual-vector.html"><span class="header-section-number">G</span> Оформление векторного слоя</a></li>
<li><a class="" href="manual-raster.html"><span class="header-section-number">H</span> Оформление растрового слоя</a></li>
<li><a class="" href="manual-labels.html"><span class="header-section-number">I</span> Подписи объектов</a></li>
<li><a class="" href="manual-attributes.html"><span class="header-section-number">J</span> Атрибутивная таблица</a></li>
<li><a class="" href="manual-select.html"><span class="header-section-number">K</span> Выборка объектов</a></li>
<li><a class="" href="manual-projections.html"><span class="header-section-number">L</span> Проекции и координатная сетка</a></li>
<li><a class="" href="manual-georef.html"><span class="header-section-number">M</span> Привязка растровых данных</a></li>
<li><a class="" href="manual-edit.html"><span class="header-section-number">N</span> Редактирование</a></li>
<li><a class="" href="manual-layout.html"><span class="header-section-number">O</span> Компоновка карт</a></li>
<li><a class="" href="manual-legend.html"><span class="header-section-number">P</span> Легенда карты</a></li>
<li><a class="" href="manual-export.html"><span class="header-section-number">Q</span> Экспорт изображения</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="stat-map-economic" class="section level1" number="8">
<h1>
<span class="header-section-number">Упражнение 8</span> Соединение табличных данных<a class="anchor" aria-label="anchor" href="#stat-map-economic"><i class="fas fa-link"></i></a>
</h1>
<p><a href="http://autolab.geogr.msu.ru/gis/data/Ex08.zip">Скачать данные и файл отчета</a></p>
<div id="stat-map-economic-intro" class="section level2" number="8.1">
<h2>
<span class="header-section-number">8.1</span> Введение<a class="anchor" aria-label="anchor" href="#stat-map-economic-intro"><i class="fas fa-link"></i></a>
</h2>
<p><strong>Цель задания</strong> — научиться использовать данные из внешних таблиц для построения карт.</p>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th align="left">Параметр</th>
<th>Значение</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><em>Теоретическая подготовка</em></td>
<td>Соединение таблиц в реляционных базах данных, внешний и внутренний ключ соединения, картограммы, картодиаграммы</td>
</tr>
<tr class="even">
<td align="left"><em>Практическая подготовка</em></td>
<td>Знание основных компонент интерфейса ArcGIS Desktop (каталог, таблица содержания, карта). Работы с базой пространственных данных. Настройка символики и подписей объектов.</td>
</tr>
<tr class="odd">
<td align="left"><em>Исходные данные</em></td>
<td>Слои статистических единиц Евросоюза NUTS и таблицы показателей с портала NUTS</td>
</tr>
<tr class="even">
<td align="left"><em>Результат</em></td>
<td>Карта количества транспортных средств в Швейцарии по единицам 3-го уровня, карта плотности и структуры населения Швейцарии по единицам 3-го уровня</td>
</tr>
<tr class="odd">
<td align="left"><em>Ключевые слова</em></td>
<td>Статистические данные, картограммы, картодиаграммы, соединение таблиц, визуализация статистических данных.</td>
</tr>
</tbody>
</table></div>
<div id="stat-map-economic-control" class="section level3" number="8.1.1">
<h3>
<span class="header-section-number">8.1.1</span> Контрольный лист<a class="anchor" aria-label="anchor" href="#stat-map-economic-control"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li>Скачать слои административно-территориального деления с сайта NUTS.</li>
<li>Скачать статистические таблицы NUTS на уровень 3.</li>
<li>Присоединить таблицы статистики к слою административных единиц.</li>
<li>Создать карту количества автомобилей способом картодиаграмм.</li>
<li>Создать карту населения способом картограмм и секторных картодиаграмм.</li>
</ul>
</div>
<div id="stat-map-economic-annotation" class="section level3" number="8.1.2">
<h3>
<span class="header-section-number">8.1.2</span> Аннотация<a class="anchor" aria-label="anchor" href="#stat-map-economic-annotation"><i class="fas fa-link"></i></a>
</h3>
<p>В основе многих социально-экономических карт лежат статистические данные, которые обычно предоставляются в табличном виде. Задание посвящено знакомству с созданием карт в среде ГИС на основе табличных данных. В качестве примера используется официальная статистика Евросоюза, размещенная на сайте NUTS. Попутно при выполнении задании вы познакомитесь с операцией соединения таблиц.</p>
</div>
</div>
<div id="stat-map-economic-nuts-geo" class="section level2" number="8.2">
<h2>
<span class="header-section-number">8.2</span> Скачивание географических данных с сайта NUTS<a class="anchor" aria-label="anchor" href="#stat-map-economic-nuts-geo"><i class="fas fa-link"></i></a>
</h2>
<p><a href="stat-map-economic.html#stat-map-economic">В начало упражнения ⇡</a></p>
<ol style="list-style-type: decimal">
<li><p>Перейдите на <a href="http://epp.eurostat.ec.europa.eu/portal/page/portal/nuts_nomenclature/introduction">главную страницу <strong>NUTS</strong></a> и прочитайте краткую информацию на ней.</p></li>
<li><p>Выберите в правой части окна пункт меню <strong>NUTS Geodatafiles at GISCO</strong>.</p></li>
<li><p>Скачайте файлы <em>NUTS 2010</em> для масштаба <em>1:3 Million</em> в формате <em>Personal GDB</em> и сохраните их себе в каталог <em>Ex08</em>.</p></li>
</ol>
<div class="inline-figure"><img src="images/Ex08/image6.png"></div>
</div>
<div id="stat-map-economic-nuts-tables" class="section level2" number="8.3">
<h2>
<span class="header-section-number">8.3</span> Скачивание таблиц с сайта NUTS<a class="anchor" aria-label="anchor" href="#stat-map-economic-nuts-tables"><i class="fas fa-link"></i></a>
</h2>
<p><a href="stat-map-economic.html#stat-map-economic">В начало упражнения ⇡</a></p>
<ol style="list-style-type: decimal">
<li><p>На главной странице <strong>NUTS</strong> выберите в правой части окна пункт меню <strong>Statistics on regions and cities</strong>.</p></li>
<li>
<p>На сайте статистики <strong>NUTS</strong> выберите пункт <strong>Database</strong>, чтобы перейти к просмотру таблиц базы данных:</p>
<div class="inline-figure"><img src="images/Ex08/image7.png"></div>
</li>
<li>
<p>Найдите таблицу плотности населения по регионам <em>Population density - NUTS 3 regions (demo_r_d3dens)</em> и нажмите иконку слева от нее:</p>
<div class="inline-figure"><img src="images/Ex08/image8.png"></div>
</li>
<li>
<p>Нажмите <strong>Table Customization &gt; Show</strong>, чтобы настроить содержание таблицы:</p>
<div class="inline-figure"><img src="images/Ex08/image9.png"></div>
</li>
<li><p>Установите режим <strong>Codes</strong>, чтобы в первом столбце отображались уникальные идентификаторы вместо названий единиц.</p></li>
<li>
<p>Нажмите кнопку <strong>Download</strong>, чтобы скачать таблицу:</p>
<div class="inline-figure"><img src="images/Ex08/image10.png"></div>
</li>
<li><p>В появившемся окне нажмите кнопку <strong>Download in Excel format</strong>, не меняя никаких настроек.</p></li>
</ol>
<p>Скачайте аналогичным образом таблицу <em>Stock of vehicles by category and NUTS 2 regions (tran_r_vehst),</em> содержащую статистику по количеству зарегистрированных транспортных средств в регионах.</p>
</div>
<div id="stat-map-economic-structures" class="section level2" number="8.4">
<h2>
<span class="header-section-number">8.4</span> Скачивание структурных таблиц с сайта NUTS<a class="anchor" aria-label="anchor" href="#stat-map-economic-structures"><i class="fas fa-link"></i></a>
</h2>
<p><a href="stat-map-economic.html#stat-map-economic">В начало упражнения ⇡</a></p>
<ol style="list-style-type: decimal">
<li><p>Найдите таблицу <em>Population on 1 January by broad age groups and sex - NUTS 3 regions</em> и откройте ее.</p></li>
<li>
<p>Нажмите кнопку <strong>Select Data</strong> в заголовке сайта:</p>
<div class="inline-figure"><img src="images/Ex08/image11.png"></div>
</li>
<li>
<p>В левой части окна выберите вкладку <em>AGE</em>, отметьте галочками все пункты и нажмите <em>UPDATE</em>, чтобы обновить таблицу:</p>
<div class="inline-figure"><img src="images/Ex08/image12.png"></div>
</li>
<li><p>Нажмите вкладку <strong>VIEW Table</strong> в верхней части окна, чтобы перейти к просмотру таблицы.</p></li>
<li>
<p>Схватите мышкой показатель <em>Age</em> и переместите его в таблицу на место показателя <em>TIME</em>:</p>
<div class="inline-figure"><img src="images/Ex08/image13.png"></div>
<p>В результате таблица должна приобрести искомую структуру, в которой показана структура населения по 3 категориям: до 15 лет (дети), 15-64 года (трудоспособные) и старше 64 лет (пенсионеры). Помимо этого есть поле Unknown для населения неустановленной возрастной категории:</p>
<div class="inline-figure"><img src="images/Ex08/image14.png"></div>
</li>
<li><p>Включите режим показа кодов вместо названий единиц.</p></li>
<li><p>Скачайте таблицу в формате <em>Microsoft Excel</em>.</p></li>
</ol>
</div>
<div id="stat-map-economic-formatting" class="section level2" number="8.5">
<h2>
<span class="header-section-number">8.5</span> Форматирование таблиц для загрузки в ГИС<a class="anchor" aria-label="anchor" href="#stat-map-economic-formatting"><i class="fas fa-link"></i></a>
</h2>
<p><a href="stat-map-economic.html#stat-map-economic">В начало упражнения ⇡</a></p>
<p>Чтобы скачанные таблицы можно было использовать в ГИС, их нужно отформатировать следующим образом:</p>
<ol style="list-style-type: decimal">
<li><p>Удалите все строки выше заголовка.</p></li>
<li><p>Переименуйте поле <em>GEO/TIME</em> в <em>GEO</em>.</p></li>
<li>
<p>Переименуйте поля таким образом, чтобы:</p>
<ul>
<li>Они не содержали пробелов, символов “ / “, “ -” и тому подобных. Символ подчеркивания “_” допускается.</li>
<li>Название поля начиналось с буквы.</li>
</ul>
</li>
<li><p>Установите столбцам показателей числовой формат с необходимым числом десятичных знаков.</p></li>
<li>
<p>Сохраните таблицы под названиями:</p>
<ul>
<li>
<em>Density.xls</em> (плотность населения),</li>
<li>
<em>Population.xls</em> (структура населения),</li>
<li>
<em>Vehicles.xls</em> (число зарегистрированных транспортных средств).</li>
</ul>
</li>
</ol>
<p>Пример преобразования таблиц представлен на рисунках ниже.</p>
<p><em>Было</em>:</p>
<div class="inline-figure"><img src="images/Ex08/image15.png"></div>
<p><em>Стало</em>:</p>
<div class="inline-figure"><img src="images/Ex08/image16.png"></div>
</div>
<div id="stat-map-economic-prepare" class="section level2" number="8.6">
<h2>
<span class="header-section-number">8.6</span> Подготовка проекта<a class="anchor" aria-label="anchor" href="#stat-map-economic-prepare"><i class="fas fa-link"></i></a>
</h2>
<p><a href="stat-map-economic.html#stat-map-economic">В начало упражнения ⇡</a></p>
<ol style="list-style-type: decimal">
<li><p>Откройте <strong>ArcMap</strong> и создайте новый документ карты в каталоге <em>Ex08</em>.</p></li>
<li><p>Добавьте на карту слой <em>Countries</em> из базы данных предудыщего упражнения.</p></li>
<li>
<p>Добавьте на карту слой <em>NUTS_RG_03M_2010</em> из базы данных, которую вы скачали с сайта. Она находится в каталоге PGDB/data:</p>
<div class="inline-figure"><img src="images/Ex08/image17.png"></div>
</li>
<li><p>Присвойте добавленному слою символ полигона без заливки с обводкой красного цвета и переименуйте его в <em>NUTS</em>.</p></li>
<li>
<p><em>Выделите в таблице</em> слоя <em>NUTS</em> строку, в которой <code>NUTS\_ID = “CH”</code>, которая соответствует региону Швейцарии. Обратите внимание на то, что таблица может быть отсортирована не по алфавиту, а по статусу единицы:</p>
<div class="inline-figure"><img src="images/Ex08/image18.png"></div>
</li>
<li>
<p>Выделите все регионы, находящиеся внутри выделенной единицы, используя <em>пространственный запрос</em> со следующими параметрами:</p>
<table class="table table-sm">
<thead><tr class="header">
<th align="left">Параметр</th>
<th align="left">Значение</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><em>Слой искомых объектов</em></td>
<td align="left">NUTS</td>
</tr>
<tr class="even">
<td align="left"><em>Слой-источник</em></td>
<td align="left">NUTS</td>
</tr>
<tr class="odd">
<td align="left"><em>Пространственный запрос</em></td>
<td align="left">Are within the layer feature</td>
</tr>
</tbody>
</table>
<p><em>Результат</em>:
<img src="images/Ex08/image19.png"></p>
</li>
<li><p><strong>Создайте новый слой на основе выбранных объектов</strong> он получит название «<em>NUTS selection</em>».</p></li>
<li><p><strong>Отключите</strong> исходный слой <em>NUTS</em>.</p></li>
</ol>
</div>
<div id="stat-map-economic-diagrams2" class="section level2" number="8.7">
<h2>
<span class="header-section-number">8.7</span> Отображение картодиаграмм по единицам 2-го уровня<a class="anchor" aria-label="anchor" href="#stat-map-economic-diagrams2"><i class="fas fa-link"></i></a>
</h2>
<p><a href="stat-map-economic.html#stat-map-economic">В начало упражнения ⇡</a></p>
<ol style="list-style-type: decimal">
<li><p><strong>Скопируйте</strong> слой <em>NUTS selection</em>, <strong>вставьте</strong> и назовите его <em>Транспортные средства (NUTS 2)</em>.</p></li>
<li>
<p>С помощью <strong>определяющего запроса</strong> в окне конструктора запроса включите единицы 2-го уровня, введя строку:</p>
<p><code>\[STAT\_LEVL\_CODE\] = 2</code></p>
<p>При вводе строки используйте двойной щелчок на названии вместо ввода текста вручную.</p>
<p><em>Результат</em>:
<img src="images/Ex08/image20.png"></p>
</li>
<li>
<p>Добавьте на карту лист <em>Data</em> таблицы <em>Vehicles</em> и переименуйте его в <em>Vehicles</em>:</p>
<div class="inline-figure"><img src="images/Ex08/image21.png"></div>
</li>
<li>
<p><strong>Раскройте таблицу</strong> слоя <em>Транспортные средства</em>, чтобы просмотреть состав атрибутивных полей. Таблица содержит поле <em>NUTS_ID</em>, содержащее уникальные идентификаторы единиц NUTS.</p>
<div class="inline-figure"><img src="images/Ex08/image22.png"></div>
</li>
<li>
<p><strong>Присоедините таблицу</strong> <em>VEHICLES</em> к слою <em>Транспортные средства</em>, используя следующие параметры:</p>
<table class="table table-sm">
<thead><tr class="header">
<th align="left">Параметр</th>
<th align="left">Значение</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><em>Ключевое поле слоя</em></td>
<td align="left">NUTS_ID</td>
</tr>
<tr class="even">
<td align="left"><em>Присоединяемая таблица</em></td>
<td align="left">VEHICLES</td>
</tr>
<tr class="odd">
<td align="left"><em>Ключевое поле таблицы</em></td>
<td align="left">GEO</td>
</tr>
</tbody>
</table>
<p>Раскройте таблицу слоя <em>Транспортные средства (NUTS 2)</em>, чтобы убедиться в результате:
<img src="images/Ex08/image23.png"></p>
</li>
<li>
<p>Включите для слоя <strong>способ градуированных символов</strong> (картодиаграммы), используя следующие параметры:</p>
<table class="table table-sm">
<thead><tr class="header">
<th align="left">Параметр</th>
<th align="left">Значение</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><em>Поле показателя</em></td>
<td align="left">2011 год</td>
</tr>
<tr class="even">
<td align="left"><em>Размер значка</em></td>
<td align="left">От 15 до 60</td>
</tr>
<tr class="odd">
<td align="left"><em>Метод классификации</em></td>
<td align="left">Равноинтервальный с шагом 200 (Defined Interval)</td>
</tr>
<tr class="even">
<td align="left"><em>Фоновый символ</em></td>
<td align="left">Без заливки</td>
</tr>
</tbody>
</table>
<div class="inline-figure">Цвет диаграммы выберите по своему вкусу. Диалог примет следующий вид:
<img src="images/Ex08/image24.png">
</div>
</li>
<li>
<p>Переименуйте <strong>название показателя в таблице слоев</strong> в «тысяч штук».</p>
<p><em>Результат</em>:
<img src="images/Ex08/image25.png"></p>
</li>
</ol>
</div>
<div id="stat-map-economic-choropleths3" class="section level2" number="8.8">
<h2>
<span class="header-section-number">8.8</span> Отображение картограмм по единицам 3-го уровня<a class="anchor" aria-label="anchor" href="#stat-map-economic-choropleths3"><i class="fas fa-link"></i></a>
</h2>
<p><a href="stat-map-economic.html#stat-map-economic">В начало упражнения ⇡</a></p>
<ol style="list-style-type: decimal">
<li><p>Скопируйте слой <em>NUTS selection</em> и назовите его «<em>Плотность населения (NUTS 3)</em>».</p></li>
<li><p>Включите единицы 3-го уровня, по аналогии с единицами 2-го уровня.</p></li>
<li><p>Добавьте на карту лист <em>Data</em> таблицы <em>Density</em> и переименуйте его в <em>DENSITY</em>.</p></li>
<li><p>Присоедините таблицу <em>DENSITY</em> к слою <em>Плотность населения</em>, используя те же поля, что и в случае слоя транспорта.</p></li>
<li>
<p>Включите для слоя метод отображения <strong>Graduated Colors (картограммы)</strong>, используя следующие параметры:</p>
<table class="table table-sm">
<thead><tr class="header">
<th align="left">Параметр</th>
<th align="left">Значение</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><em>Поле статистики</em></td>
<td align="left">2011 год</td>
</tr>
<tr class="even">
<td align="left"><em>Цветовая шкала</em></td>
<td align="left">От желтого к коричневому (по умолчанию)</td>
</tr>
<tr class="odd">
<td align="left"><em>Метод классификации</em></td>
<td align="left">Дженкса (естественных интервалов)</td>
</tr>
<tr class="even">
<td align="left"><em>Количество интервалов</em></td>
<td align="left">5</td>
</tr>
</tbody>
</table>
<div class="inline-figure">Диалог свойств слоя примет следующий вид:
<img src="images/Ex08/image26.png">
</div>
</li>
<li><p>Переименуйте название показателя в таблице содержания в «чел/кв. км.».</p></li>
<li><p>Перенесите слой со статистикой транспорта так, чтобы он располагался поверх слоя плотности населения и увеличьте толщину обводки полигонов до 1.5 пиксела.</p></li>
</ol>
<div class="inline-figure">Результат позволяет одновременно показывать статистику по двум уровням иерархии:
<img src="images/Ex08/image27.png">
</div>
</div>
<div id="stat-map-economic-diagrams3" class="section level2" number="8.9">
<h2>
<span class="header-section-number">8.9</span> Отображение структурных картодиаграмм по единицам 3-го уровня<a class="anchor" aria-label="anchor" href="#stat-map-economic-diagrams3"><i class="fas fa-link"></i></a>
</h2>
<p><a href="stat-map-economic.html#stat-map-economic">В начало упражнения ⇡</a></p>
<ol style="list-style-type: decimal">
<li><p>Скопируйте слой <em>NUTS selection</em> и назовите его «<em>Структура населения (NUTS 3)</em>».</p></li>
<li><p>Включите единицы 3-го уровня.</p></li>
<li><p>Добавьте на карту лист <em>Data</em> таблицы <em>Population</em> и переименуйте его в <em>POPULATION</em>.</p></li>
<li><p>Присоедините таблицу <em>POPULATION</em> к слою <em>Структура населения</em>.</p></li>
<li>
<p>Определите русскоязычные <strong>псевдонимы</strong> полям на вкладке <strong>Fields</strong>:</p>
<ul>
<li>Y_LT15 — моложе 15 лет,</li>
<li>Y_15_64 — от 15 до 64 лет,</li>
<li>Y_GE65 — старше 64 лет,</li>
<li>TOTAL — человек.</li>
</ul>
<p><em>Результат</em>:</p>
<div class="inline-figure"><img src="images/Ex08/image28.png"></div>
</li>
<li>
<p>Включите для слоя метод отображения <strong>Pie Charts (секторные диаграммы)</strong>, используя следующие параметры:</p>
<table class="table table-sm">
<thead><tr class="header">
<th align="left">Параметр</th>
<th align="left">Значение</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><em>Поля статистики</em></td>
<td align="left">моложе 15 лет, от 15 до 64 лет, старше 64 лет</td>
</tr>
<tr class="even">
<td align="left"><em>Цвета</em></td>
<td align="left">Выберите на свой вкус</td>
</tr>
<tr class="odd">
<td align="left"><em>Минимальный размер</em></td>
<td align="left">5</td>
</tr>
<tr class="even">
<td align="left"><em>Размер</em></td>
<td align="left">По полю “Человек” (TOTAL)</td>
</tr>
</tbody>
</table>
<div class="inline-figure">Диалог примет следующий вид:
<img src="images/Ex08/image29.png">
</div>
<p><em>Результат</em>:
<img src="images/Ex08/image30.png"></p>
</li>
</ol>
<p>Структура населения в целом очень похожа по регионам, при этом незначительно варьируется численность населения пенсионного и нетрудоспособного населения.</p>
</div>
<div id="stat-map-economic-design" class="section level2" number="8.10">
<h2>
<span class="header-section-number">8.10</span> Оформление итоговых карт<a class="anchor" aria-label="anchor" href="#stat-map-economic-design"><i class="fas fa-link"></i></a>
</h2>
<p><a href="stat-map-economic.html#stat-map-economic">В начало упражнения ⇡</a></p>
<ol style="list-style-type: decimal">
<li><p>Добавьте на карту слой городов из базы данных задания 3.</p></li>
<li>
<p>С помощью <strong>определяющего запроса</strong> оставьте только те города, у которых значение поля <code>Pop\_Rank &lt;= 6</code>. Это города с населением 50 000 человек и более:</p>
<div class="inline-figure"><img src="images/Ex08/image31.png"></div>
</li>
<li><p>Оформите слой городов аналогично заданию 3, разделив их на классы.</p></li>
<li><p>Включите <strong>подписи</strong> стран.</p></li>
<li><p>Перекрасьте страны в нейтрально-серый цвет.</p></li>
<li><p>Установите масштаб карты равным 1:2 000 000.</p></li>
<li><p>Переключитесь в режим компоновки и установите альбомную ориентировку.</p></li>
<li>
<p>Подгоните размер фрейма таким образом, чтобы он охватывал страну с небольшим запасом.</p>
<p><em>Результат</em>:
<img src="images/Ex08/image32.png"></p>
<p>Пока что не обращайте внимания на то, что слои перекрывают друг друга. При экспорте вы будете оставлять включенным только один из них.</p>
</li>
<li><p>Добавьте на карту легенду, включив в нее слои <em>Транспортные средства</em>, <em>Структура населения</em> и <em>Плотность населения</em>.</p></li>
<li><p>Переведите элементы легенды на русский язык и сотрите заголовок легенды.</p></li>
<li><p>Вставьте заголовок карты «ШВЕЙЦАРИЯ» и масштабную линейку.</p></li>
</ol>
</div>
<div id="stat-map-economic-export-transport" class="section level2" number="8.11">
<h2>
<span class="header-section-number">8.11</span> Экспорт карты числа транспортных средств<a class="anchor" aria-label="anchor" href="#stat-map-economic-export-transport"><i class="fas fa-link"></i></a>
</h2>
<ol style="list-style-type: decimal">
<li><p>Отключите слои плотности населения и структуры населения. В легенде останется только слой с картодиаграммами.</p></li>
<li>
<p>Отредактируйте подписи классов таким образом, чтобы убрать у них незначащие нули.</p>
<p><em>Результат</em>:
<img src="images/Ex08/image33.png"></p>
</li>
<li><p>Экспортируйте карту в графический файл формата <kbd>PNG</kbd> c разрешением 300 dpi.</p></li>
</ol>
</div>
<div id="stat-map-economic-export-population" class="section level2" number="8.12">
<h2>
<span class="header-section-number">8.12</span> Экспорт карты населения<a class="anchor" aria-label="anchor" href="#stat-map-economic-export-population"><i class="fas fa-link"></i></a>
</h2>
<p><a href="stat-map-economic.html#stat-map-economic">В начало упражнения ⇡</a></p>
<ol style="list-style-type: decimal">
<li><p><strong>Включите слои</strong> плотности населения и структуры населения. Отключите слой транспортных средств.</p></li>
<li><p>Включите отображение названия слоя в легенде для слоя <em>Структура населения</em>.</p></li>
<li>
<p>Уберите <strong>незначащие нули в подписях классов</strong> слоя плотности населения, оставив один знак после запятой.</p>
<p><em>Результат</em>:
<img src="images/Ex08/image34.png"></p>
</li>
<li><p>Экспортируйте карту в графический файл формата <kbd>PNG</kbd> c разрешением 300 dpi.</p></li>
</ol>
</div>
<div id="stat-map-economic-export-questions" class="section level2" number="8.13">
<h2>
<span class="header-section-number">8.13</span> Контрольные вопросы<a class="anchor" aria-label="anchor" href="#stat-map-economic-export-questions"><i class="fas fa-link"></i></a>
</h2>
<p><a href="stat-map-economic.html#stat-map-economic">В начало упражнения ⇡</a></p>
<ol style="list-style-type: decimal">
<li><p>Каким требованиям должны отвечать таблицы для их успешной загрузки в ГИС?</p></li>
<li><p>Что такое соединение таблиц? Опишите последовательность действий для соединения таблиц в ArcGIS?</p></li>
<li><p>Где хранятся числовые данные, которые используются для построения картограмм и картодиаграмм?</p></li>
<li><p>Как должны быть организованы данные показателей в таблице для построения структурных картодиаграмм?</p></li>
</ol>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="map-ref-economic.html"><span class="header-section-number">7</span> Привязка и векторизация (административная карта)</a></div>
<div class="next"><a href="geocoding.html"><span class="header-section-number">9</span> Адресное геокодирование</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#stat-map-economic"><span class="header-section-number">8</span> Соединение табличных данных</a></li>
<li>
<a class="nav-link" href="#stat-map-economic-intro"><span class="header-section-number">8.1</span> Введение</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#stat-map-economic-control"><span class="header-section-number">8.1.1</span> Контрольный лист</a></li>
<li><a class="nav-link" href="#stat-map-economic-annotation"><span class="header-section-number">8.1.2</span> Аннотация</a></li>
</ul>
</li>
<li><a class="nav-link" href="#stat-map-economic-nuts-geo"><span class="header-section-number">8.2</span> Скачивание географических данных с сайта NUTS</a></li>
<li><a class="nav-link" href="#stat-map-economic-nuts-tables"><span class="header-section-number">8.3</span> Скачивание таблиц с сайта NUTS</a></li>
<li><a class="nav-link" href="#stat-map-economic-structures"><span class="header-section-number">8.4</span> Скачивание структурных таблиц с сайта NUTS</a></li>
<li><a class="nav-link" href="#stat-map-economic-formatting"><span class="header-section-number">8.5</span> Форматирование таблиц для загрузки в ГИС</a></li>
<li><a class="nav-link" href="#stat-map-economic-prepare"><span class="header-section-number">8.6</span> Подготовка проекта</a></li>
<li><a class="nav-link" href="#stat-map-economic-diagrams2"><span class="header-section-number">8.7</span> Отображение картодиаграмм по единицам 2-го уровня</a></li>
<li><a class="nav-link" href="#stat-map-economic-choropleths3"><span class="header-section-number">8.8</span> Отображение картограмм по единицам 3-го уровня</a></li>
<li><a class="nav-link" href="#stat-map-economic-diagrams3"><span class="header-section-number">8.9</span> Отображение структурных картодиаграмм по единицам 3-го уровня</a></li>
<li><a class="nav-link" href="#stat-map-economic-design"><span class="header-section-number">8.10</span> Оформление итоговых карт</a></li>
<li><a class="nav-link" href="#stat-map-economic-export-transport"><span class="header-section-number">8.11</span> Экспорт карты числа транспортных средств</a></li>
<li><a class="nav-link" href="#stat-map-economic-export-population"><span class="header-section-number">8.12</span> Экспорт карты населения</a></li>
<li><a class="nav-link" href="#stat-map-economic-export-questions"><span class="header-section-number">8.13</span> Контрольные вопросы</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Основы геоинформатики: практикум в ArcGIS</strong>" was written by Тимофей Самсонов. It was last built on 2023-02-14.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
